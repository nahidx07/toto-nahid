<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toto Live Stream - Premium Sports</title>
    <link rel="stylesheet" href="user.css">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- টপ হেডার -->
    <header class="main-header">
        <div class="header-left">
            <img id="app-logo" src="" alt="Toto Logo" class="app-logo">
            <h1 class="site-title" id="site-title">Toto Live</h1>
        </div>
        <div class="header-right">
            <div class="xp-badge" id="xp-badge">
                <i class="fas fa-bolt"></i>
                <span id="user-xp">0</span> XP
            </div>
            <div class="profile-icon" onclick="showPage('profile')">
                <img id="user-avatar" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Profile">
            </div>
        </div>
    </header>

    <!-- মেইন কন্টেন্ট এরিয়া -->
    <main class="main-content">
        <!-- হোম পেজ -->
        <div id="home" class="page active">
            <div class="page-header">
                <h2><i class="fas fa-tv"></i> সরাসরি সম্প্রচার</h2>
                <div class="live-indicator">
                    <span class="live-dot"></span> LIVE NOW
                </div>
            </div>
            
            <div class="matches-container" id="matches-container">
                <!-- ম্যাচ কার্ডগুলো এখানে লোড হবে -->
                <div class="loading">লোড হচ্ছে...</div>
            </div>
            
            <div class="stats-section">
                <div class="stat-card">
                    <i class="fas fa-users"></i>
                    <div>
                        <h3 id="online-users">0</h3>
                        <p>অনলাইন</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-eye"></i>
                    <div>
                        <h3 id="total-watching">0</h3>
                        <p>মোট দর্শক</p>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-trophy"></i>
                    <div>
                        <h3 id="user-rank">-</h3>
                        <p>র‍্যাংক</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- লাইভ ভিউ পেজ -->
        <div id="live" class="page">
            <div class="live-header">
                <button class="back-btn" onclick="showPage('home')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h3 id="live-title">লাইভ ম্যাচ</h3>
                <div class="live-stats">
                    <span class="viewer-count">
                        <i class="fas fa-eye"></i>
                        <span id="live-viewers">0</span>
                    </span>
                </div>
            </div>
            
            <div class="video-container" id="video-container">
                <!-- ভিডিও এখানে লোড হবে -->
            </div>
            
            <div class="chat-section">
                <div class="chat-header">
                    <h4><i class="fas fa-comments"></i> লাইভ চ্যাট</h4>
                    <span class="online-count" id="chat-online">0 অনলাইন</span>
                </div>
                
                <div class="chat-messages" id="chat-messages">
                    <!-- চ্যাট মেসেজগুলো এখানে লোড হবে -->
                    <div class="welcome-msg">
                        চ্যাট শুরু করুন! প্রথম মেসেজ লিখুন।
                    </div>
                </div>
                
                <div class="chat-input">
                    <input type="text" id="chat-input-field" placeholder="এখানে লিখুন..." 
                           onkeypress="if(event.key === 'Enter') sendChat()">
                    <button class="send-btn" onclick="sendChat()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- প্রোফাইল পেজ -->
        <div id="profile" class="page">
            <div class="profile-header">
                <button class="back-btn" onclick="showPage('home')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2>আমার প্রোফাইল</h2>
            </div>
            
            <div class="profile-card">
                <div class="avatar-section">
                    <div class="avatar-container">
                        <img id="profile-avatar" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Avatar">
                        <div class="avatar-badge" id="premium-badge">
                            <i class="fas fa-crown"></i>
                        </div>
                    </div>
                    <h2 id="profile-name">লোড হচ্ছে...</h2>
                    <p class="user-id">ID: <span id="user-id">-</span></p>
                </div>
                
                <div class="profile-info">
                    <div class="info-row">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <label>ইমেইল</label>
                            <p id="profile-email">-</p>
                        </div>
                    </div>
                    <div class="info-row">
                        <i class="fas fa-phone"></i>
                        <div>
                            <label>ফোন</label>
                            <p id="profile-phone">-</p>
                        </div>
                    </div>
                    <div class="info-row">
                        <i class="fas fa-calendar"></i>
                        <div>
                            <label>যোগদান তারিখ</label>
                            <p id="join-date">-</p>
                        </div>
                    </div>
                </div>
                
                <div class="xp-section">
                    <div class="xp-header">
                        <span>XP প্রোগ্রেস</span>
                        <span id="xp-level">লেভেল 1</span>
                    </div>
                    <div class="xp-bar">
                        <div class="xp-fill" id="xp-fill"></div>
                    </div>
                    <div class="xp-numbers">
                        <span id="current-xp">0</span>
                        <span>/</span>
                        <span id="next-level-xp">1000</span>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <button class="action-btn premium-btn" onclick="showPremiumModal()">
                        <i class="fas fa-crown"></i> প্রিমিয়াম এপগ্রেড
                    </button>
                    <button class="action-btn logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> লগআউট
                    </button>
                </div>
            </div>
            
            <div class="leaderboard-preview">
                <h3><i class="fas fa-trophy"></i> আপনার র‍্যাংক</h3>
                <div class="rank-card">
                    <div class="rank-position">#<span id="user-position">-</span></div>
                    <div class="rank-info">
                        <h4 id="rank-name">-</h4>
                        <p><span id="rank-xp">0</span> XP</p>
                    </div>
                    <button class="view-leaderboard" onclick="showLeaderboard()">
                        <i class="fas fa-list"></i> লিডারবোর্ড দেখুন
                    </button>
                </div>
            </div>
        </div>

        <!-- লিডারবোর্ড পেজ -->
        <div id="leaderboard" class="page">
            <div class="leaderboard-header">
                <button class="back-btn" onclick="showPage('profile')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2><i class="fas fa-trophy"></i> লিডারবোর্ড</h2>
                <div class="time-filter">
                    <select id="time-range" onchange="loadLeaderboard()">
                        <option value="all">সর্বকাল</option>
                        <option value="month">এই মাস</option>
                        <option value="week">এই সপ্তাহ</option>
                        <option value="today">আজ</option>
                    </select>
                </div>
            </div>
            
            <div class="top-three" id="top-three">
                <!-- Top 3 users will load here -->
            </div>
            
            <div class="leaderboard-list" id="leaderboard-list">
                <!-- Leaderboard list will load here -->
            </div>
        </div>
    </main>

    <!-- বটম নেভিগেশন -->
    <nav class="bottom-nav">
        <button class="nav-btn active" onclick="showPage('home')">
            <i class="fas fa-home"></i>
            <span>হোম</span>
        </button>
        <button class="nav-btn" onclick="showPage('live')" id="live-nav-btn">
            <i class="fas fa-tv"></i>
            <span>লাইভ</span>
        </button>
        <button class="nav-btn" onclick="showPage('leaderboard')">
            <i class="fas fa-trophy"></i>
            <span>লিডারবোর্ড</span>
        </button>
        <button class="nav-btn" onclick="showPage('profile')">
            <i class="fas fa-user"></i>
            <span>প্রোফাইল</span>
        </button>
    </nav>

    <!-- প্রিমিয়াম মডাল -->
    <div id="premium-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-crown"></i> প্রিমিয়াম সাবস্ক্রিপশন</h3>
                <button class="close-btn" onclick="closeModal('premium-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="premium-features">
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>সকল লাইভ ম্যাচ এক্সেস</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>বিজ্ঞাপনমুক্ত অভিজ্ঞতা</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>প্রিমিয়াম চ্যাট ব্যাজ</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-check-circle"></i>
                        <span>বিশেষ অফার এবং ডিসকাউন্ট</span>
                    </div>
                </div>
                
                <div class="price-section">
                    <h2 id="premium-price">৳ 500</h2>
                    <p>মাসিক</p>
                </div>
                
                <button class="subscribe-btn" onclick="subscribePremium()">
                    <i class="fas fa-shopping-cart"></i> এখনই সাবস্ক্রাইব করুন
                </button>
                
                <p class="terms-text">
                    সাবস্ক্রাইব করে আপনি আমাদের Terms of Service এবং Privacy Policy মেনে চলতে সম্মত হন
                </p>
            </div>
        </div>
    </div>

    <!-- নোটিফিকেশন -->
    <div id="notification" class="notification">
        <i class="fas fa-bell"></i>
        <span id="notification-msg"></span>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <!-- App Scripts -->
    <script src="../firebase-config.js"></script>
    <script src="user.js"></script>
</body>
</html>
